@import com.gu.janus.model.{AwsAccount, JanusData}
@import com.gu.googleauth.UserIdentity
@import play.api.Mode
@import scala.util.Try

@import com.gu.janus.model.Permission
@import scala.util.Failure
@import scala.util.Success
@import logic.ViewHelpers
@(accountName: String, authConfigKey: Option[String], accountUsers: List[String],  user: UserIdentity, janusData: JanusData)(implicit request: RequestHeader, mode: Mode, assetsFinder: AssetsFinder)

@main(accountName, Some(user), janusData) {
    <div class="container" xmlns="http://www.w3.org/1999/html">
        <h1 class="header orange-text">@accountName</h1>
        @janusData.permissionsRepo match {
          case Some(permissionsRepo) => {
              <p>
                  Refer to <a href="@permissionsRepo">Janus' configuration</a> for full details on who has what access to each AWS account.
              </p>
          }
          case None => {
              <p>Refer to Janus' configuration for full details on who has what access to each AWS account.</p>
          }
        }
        @fragments.account(accountName, authConfigKey)
    </div>
}
